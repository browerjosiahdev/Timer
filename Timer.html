<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>Timer Test</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script src="./Timer.js"></script>
	<script>
		var timer;
		
		$(document).ready(function() {
			// Create a new instance of the Timer class, and set it to fire 30 times every
			// 1000 milliseconds.
			timer = new Timer(1000, 30);
			
			// Cast the timer as a jQuery element and add event listeners for every time the
			// interval fires, when the timer completes, and when the timer is reset. The 'data'
			// argument being passed into the event listeners has a 'timer' argument that gives
			// a handle to the Timer class instance; a 'timeRemaining' parameter that gives the
			// number of interval fires left before the timer completes; and for the 'TIMER_RESET'
			// event a 'running' parameter to see if the timer is still running.
			var jqTimer = $(timer);
			jqTimer.on(Timer.TIMER, function( data ) {
				$('#timer').html(data.timeRemaining);
			});
			jqTimer.on(Timer.TIMER_COMPLETE, function( data ) {
				$('#timer').html(data.timeRemaining);
			});
			jqTimer.on(Timer.TIMER_RESET, function( data ) {
				$('#timer').html(data.timeRemaining);
			});
			
			$('#timer').html(timer.getRepeatCount().toString());
		});
		
		function pause() {
			// Call the 'pause' method to pause the timer.
			timer.pause();
		}
		
		function play() {
			// Call the 'start' method to start the timer, or re-start the timer after being paused.
			timer.start();
		}
		
		function reset() {
			// Call the 'reset' method to reset the timer.
			timer.reset();
		}
		
		function checkSpecs() {
			// The Timer class has getters: 'getRunning' to see if the timer is currently running; 
			// 'getCurrentCount' to see how many times the interval has fired (is reset when the
			// reset is called); 'getRepeatCount' to see how many times the interval will fire before
			// completing; and 'getInterval' to see how often (in milliseconds) the inteval will fire.
			alert('Running: ' + timer.getRunning() + '\n' + 
			      'Current Count: ' + timer.getCurrentCount() + '\n' + 
				  'Repeat Count: ' + timer.getRepeatCount() + '\n' + 
				  'Interval: ' + timer.getInterval());
		}
	</script>
</head>
<body>
	<h1 id="timer"></h1>
	<button onclick="pause();">Pause</button>
	<button onclick="play();">Play</button>
	<button onclick="reset();">Reset</button>
	<button onclick="checkSpecs();">Check Stats</button>
</body>
</html>