"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),Timer=function(){function e(t,i){_classCallCheck(this,e),this.interval=t,this.repeat=this.repeatTracker=i,this.timer}return _createClass(e,[{key:"animationFrame",value:function(){if(void 0!==this.timer)if(this.repeatTracker>0){var e=(new Date).getTime()-this.timer;e>=this.interval&&(this.timer=(new Date).getTime()-(e-this.interval),this.repeatTracker--,this.update()),window.requestAnimationFrame(function(){this.animationFrame()}.bind(this))}else this.complete()}},{key:"complete",value:function(){this.pause();try{$(this).trigger({type:e.TIMER_COMPLETE,timer:this,timeRemaining:this.repeatTracker})}catch(t){throw new ReferenceError(e.DISPATCH_ERROR.replace(/%function%/g,"Timer.complete();"))}}}]),_createClass(e,[{key:"getCurrentCount",value:function(){return this.repeat-this.repeatTracker}},{key:"getInterval",value:function(){return this.interval}},{key:"getRepeatCount",value:function(){return this.repeat}},{key:"getRunning",value:function(){return void 0!==this.timer}},{key:"pause",value:function(){this.timer=void 0}},{key:"reset",value:function(){this.repeatTracker=this.repeat;try{$(this).trigger({type:e.TIMER_RESET,timer:this,timeRemaining:this.repeatTracker,running:this.getRunning()})}catch(t){throw new ReferenceError(e.DISPATCH_ERROR.replace(/%function%/g,"Timer.reset();"))}}},{key:"start",value:function(){void 0===this.timer&&(this.timer=(new Date).getTime(),window.requestAnimationFrame(function(){this.animationFrame()}.bind(this)))}},{key:"update",value:function(){try{$(this).trigger({type:e.TIMER,timer:this,timeRemaining:this.repeatTracker})}catch(t){throw new ReferenceError(e.DISPATCH_ERROR.replace(/%function%/g,"Timer.update();"))}}}]),e}();Timer.TIMER="timer",Timer.TIMER_COMPLETE="timer-complete",Timer.TIMER_RESET="timer-reset",Timer.DISPATCH_ERROR="Not able to dispatch event, please make sure you are including jQuery in your project: %function%";
